<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap      
    PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"      
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">
    
<sqlMap namespace="ThreeLevel">
  <typeAlias alias="ThreeLevel" type="com.joyque.pojo.ThreeLevel"/>
  
  <select id="GetThreeLevels" resultClass="ThreeLevel">
    select * from three_level where hid = #value#
  </select>
  
  <select id="GetThreeLevel" resultClass="ThreeLevel">
    select * from three_level where id = #value#
  </select>

  <insert id="insertThreeLevel" parameterClass="ThreeLevel">
    insert into three_level values (null, #hid#, #url#, #content#, #imageUrl#)
  </insert>
  
  <update id="updateThreeLevel" parameterClass="ThreeLevel">
	update three_level
	<dynamic prepend="SET ">
		<isNotEmpty property="content" prepend=","><![CDATA[ content=#content# ]]></isNotEmpty>
		<isNotEmpty property="imageUrl" prepend=","><![CDATA[ imageUrl=#imageUrl# ]]></isNotEmpty>		
		<isNotEmpty property="url" prepend=","><![CDATA[ url=#url# ]]></isNotEmpty>
	</dynamic>
	<dynamic prepend="WHERE">
		 id = #id#
	</dynamic>
  </update>
  
  <delete id="deleteThreeLevel" >
      delete from three_level where id = #id#
  </delete>
</sqlMap>