<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>SlidesJS Standard Code Example</title>
  <meta name="description" content="SlidesJS is a simple slideshow plugin for jQuery. Packed with a useful set of features to help novice and advanced developers alike create elegant and user-friendly slideshows.">
  <meta name="author" content="Nathan Searles">

  <!-- SlidesJS Required (if responsive): Sets the page width to the device width. -->
  <meta name="viewport" content="width=device-width">
  <!-- End SlidesJS Required -->
  <style>
    body {
      -webkit-font-smoothing: antialiased;
      font: normal 15px/1.5 "Helvetica Neue", Helvetica, Arial, sans-serif;
      color: #232525;
      padding-top:0px;
    }

    #slides {
      display: none
    }

    #slides .slidesjs-navigation {
      margin-top:3px;
    }

    #slides .slidesjs-previous {
      margin-right: 5px;
      float: left;
    }

    #slides .slidesjs-next {
      margin-right: 5px;
      float: left;
    }

    .slidesjs-pagination {
      margin: 6px 0 0;
      float: right;
      list-style: none;
    }

    .slidesjs-pagination li {
      float: left;
      margin: 0 1px;
    }

    .slidesjs-pagination li a {
      display: block;
      width: 13px;
      height: 0;
      padding-top: 13px;
      background-image: url(resources/image/pagination.png);
      background-position: 0 0;
      float: left;
      overflow: hidden;
    }

    .slidesjs-pagination li a.active,
    .slidesjs-pagination li a:hover.active {
      background-position: 0 -13px
    }

    .slidesjs-pagination li a:hover {
      background-position: 0 -26px
    }

    #slides a:link,
    #slides a:visited {
      color: #333
    }

    #slides a:hover,
    #slides a:active {
      color: #9e2020
    }

    .navbar {
      overflow: hidden
    }
  </style>
  <!-- End SlidesJS Optional-->

  <!-- SlidesJS Required: These styles are required if you'd like a responsive slideshow -->
  <style>
    #slides {
      display: none
    }

    .container {
      margin: 0 auto
    }

    /* For tablets & smart phones */
    @media (max-width: 767px) {
      body {
        padding-left: 20px;
        padding-right: 20px;
      }
      .container {
        width: auto
      }
    }

    /* For smartphones */
    @media (max-width: 480px) {
      .container {
        width: auto
      }
    }

    /* For smaller displays like laptops */
    @media (min-width: 768px) and (max-width: 979px) {
      .container {
        width: 724px
      }
    }

    /* For larger displays */
    @media (min-width: 1200px) {
      .container {
        width: 1170px
      }
    }
  </style>
  <!-- SlidesJS Required: -->
</head>
<script>
</script>
<body style="padding:0px">
  <img src="resources/image/example-slide-2.jpg" class="temple" style="display:none"/>
  <!-- SlidesJS Required: Start Slides -->
  <!-- The container is used to define the width of the slideshow -->
      <div class="container">
        <div id="slides" style="width:100%;height:40%">
          <!--img src="resources/image/example-slide-1.jpg" />
          <img src="resources/image/example-slide-2.jpg" />
          <img src="resources/image/example-slide-3.jpg" /-->
          <a href="#" class="slidesjs-previous slidesjs-navigation"><i class="icon-chevron-left icon-large"></i></a>
          <a href="#" class="slidesjs-next slidesjs-navigation"><i class="icon-chevron-right icon-large"></i></a>
        </div>

	<div style="width:100%;position:relative;margin:1px auto">
    	<div style="float:left; width:49%; ">
    		<a href="" class="leftbig_one">
    			<img src="resources/image/leftbig.png" style="width:100%; display:none" />
    		</a>
    	</div>
    	<div style="float:right; width:49%; position:absolute; height:100%; right:0">
    		<a href="#" class="righttop_one">
    			<img src="resources/image/righttop.png" style="width:100%; display:none; position:absolute; height:49%;" />
    		</a>
    		<a href="#" class="rightbottom_one">
    			<img src="resources/image/rightbottom.png" style="width:100%; display:none; position:absolute; height:49%; bottom:0;" />
    		</a>
    	</div>
    	<div style="clear:both;"></div>
    </div>
   
    <div style="clear:both"></div>
    </div>
  <!-- End SlidesJS Required: Start Slides -->

  <!-- SlidesJS Required: Link to jQuery -->
  <script src="resources/js/jquery-1.9.1.js"></script>
  <!-- End SlidesJS Required -->

  <!-- SlidesJS Required: Link to jquery.slides.js -->
  <script src="resources/js/jquery.slides.min.js"></script>
  <!-- End SlidesJS Required -->

  <!-- SlidesJS Required: Initialize SlidesJS with a jQuery doc ready -->
  <script>
    $(function() {
      var layout=["leftbig_one","rightbottom_one","righttop_one"];
      $("body").bind("slides",function(){
      	$("#slides").find("img").remove();
      	$.ajax({
			url: "GetWeb.action",
			type: "POST",
			data: {},
			success:function(d){
				var data=JSON.parse(d);
				console.log(data);
				var flag=$("a.slidesjs-previous");
				var arr=data.carousels || [];
				//console.log(arr);
				for(var i=0;i<arr.length;i++){
				    //console.log(arr[i]);
				    var $img=$("img.temple").clone();
				    $img.removeClass("temple");
				    $img.attr("src",arr[i]);
				    //console.log( $("img"));
				    $img.insertBefore(flag);
				}
				$("body").trigger("initslide");
				var onelevel=[];
				onelevel.push(data.one_level); 
				$("body").trigger("onelevel",onelevel);				
			},
		 });
      });
      $("body").bind("onelevel",function(e,data){
      		console.log(data);
      		for(var i=0;i<data.length;i++){
      			//console.log(data[i].imageUrl);
      			var $img=$("a."+layout[i]).find("img").clone();
	      		$img.attr("src",data[i].imageUrl);
	      		//console.log(data[i].isStatic);
	      		if(data[i].isStatic==0){
	      			if(data[i].url==null){
	      				data[i].url="second.action?id="+data[i].id;
	      			}else{
	      				data[i].url=="";
	      			}
	      			console.log(data[i].url);
	      			$("a."+layout[i]).attr("href",data[i].url);
	      			//console.log(data[i].url);
	      		}else{
	      			$("a."+layout[i]).attr("href",null);
	      		}
	      		$img.css("display","block");
	      		$img.appendTo($("a."+layout[i]));
      		}
      		
      });
      $("body").bind("initslide",function(){
		 $('#slides').slidesjs({
			 width: 940,
			 height: 529,
			 navigation: true,
			 play: {
			      active: false,
			      auto: false,
			      interval: 4000,
			      swap: true
			 }
		  });
      });
      $("body").trigger("slides");
    });
  </script>
  <!-- End SlidesJS Required -->
</body>
</html>